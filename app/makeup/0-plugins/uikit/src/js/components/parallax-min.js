import Parallax from"../mixin/parallax";import{clamp,css,scrolledOver,query}from"uikit-util";export default{mixins:[Parallax],props:{target:String,viewport:Number,easing:Number},data:{target:!1,viewport:1,easing:1},computed:{target:({target:e},t)=>getOffsetElement(e&&query(e,t)||t)},update:{read({percent:e,active:t},r){if("scroll"!==r&&(e=!1),!t)return;const s=e;return{percent:e=ease(scrolledOver(this.target)/(this.viewport||1),this.easing),style:s!==e&&this.getCss(e)}},write({style:e,active:t}){t?e&&css(this.$el,e):this.reset()},events:["scroll","resize"]}};function ease(e,t){return clamp(e*(1-(t-t*e)))}function getOffsetElement(e){return e?"offsetTop"in e?e:getOffsetElement(e.parentNode):document.body}